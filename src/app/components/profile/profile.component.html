<ion-header>
  <ion-toolbar class="header" color="#4078e1">
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<div profile *ngIf="user" #content>

  <div class="top-content">
    <div class="profile-top">
      <div class="top">
        <img src={{user.photoURL}} alt="Profile Image" class="profile-image" />
        <div class="description">
          <h2 class="profile-name">{{user.name}}</h2>
          <h2 class="profile-description">{{user.location}}</h2>
        </div>
      </div>
      <div class="bottom">
        <ion-button class="edit-button" (click)="navigate('profile/edit')">Edit Profile</ion-button>
        <ion-button class="create-button" (click)="logOut()">Log Out</ion-button>
      </div>
    </div> 
  </div>

<!-- 
  <div class="bottom-section" *ngIf="!isFoodbank">
    <h3 class="bottom-title">Welcome, {{user.name}}!</h3>

    <ion-button class="maps-button">View Foodbanks Near You</ion-button>
  
    <div class="or">
      <h3>OR</h3>
    </div>
    
    <ion-button class="search-button">Search Locations in your Area</ion-button>
  </div> -->

  <div class="supplies" *ngIf="!isFoodbank">
    <!-- Show posts here -->
    <div class="posts">
      <div class="posts" *ngIf="!loading">
        <ion-card *ngFor="let post of posts" (click)="presentPost(post)">
          <img src={{post.images[0]}} />
          <ion-card-header>
            <ion-card-subtitle>{{post.userProfile.location}}</ion-card-subtitle> 
            <ion-card-title>{{post.title}}</ion-card-title>
          </ion-card-header>
          <!-- TODO: only get a small portion of description -->
          <ion-card-content>
           {{post.description}}
          </ion-card-content>
        </ion-card>
      </div>

        <div class="loading-posts" *ngIf="loading">
          <ion-card *ngFor="let post of [1,2]">
            <ion-skeleton-text animated class="skeleton-image" style="height: 25vh;"></ion-skeleton-text>
            <ion-card-header>
              <ion-skeleton-text animated></ion-skeleton-text>
            </ion-card-header>
            <!-- TODO: only get a small portion of description -->
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-card>
        </div>
    </div>
  </div>    
</div>

<ion-fab vertical="bottom" horizontal="end" slot="fixed" (click)="presentModal()">
  <ion-fab-button>
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
</ion-fab>
</ion-content>
